<script src="https://cdn.jsdelivr.net/npm/vditor@latest/dist/method.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/vditor@latest/dist/index.classic.css"/>


<ol class="breadcrumb breadcrumbBlack">
    <li><a href="/">博客</a></li>
    <li><%- blog.title %></li>
</ol>

<div class="blogItem">
    <div class="blog-header">
        <div class="headerImg">
            <% if(blog.author&&blog.author.profile&&blog.author.profile.picture){%>
            <img src="<%= blog.author.profile.picture %>" alt="">
            <% } else { %>
            <span><i class="iconfont icon-shenfenrenzheng-zhiye"></i></span>
            <% }%>
        </div>
        <div class="author">
            <h4><%= ((blog.author.profile&&blog.author.profile.name)|| blog.author.email) %> </h4>
            <h5>阅读量：<%= blog.pv %></h5>
        </div>
        <button class="btn btn-default">关注</button>
    </div>
    <div class="blog-body">
        <h2 class="blogTitle"><%= blog.title%></h2>
        <div id="vditorCentent"></div>
        <textarea id="markdownText" class="preview" style="display:none;"><%-blog.content%></textarea>
    </div>
    <%- include('./components/comment.html') %>
    
</div>

<script>
    var subjectType = 'blog'; //评论的类型
    Vditor.preview(document.getElementById('vditorCentent'),
        document.getElementById('markdownText').textContent, {
            className: 'preview vditor-reset',
            customEmoji: {
                'sd': '💔',
                'j': 'https://unpkg.com/vditor@1.3.1/dist/images/emoji/j.png',
            },
            speech: {
                enable: true,
            },
        });
</script>

<style></style>